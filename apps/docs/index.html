<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/public/logo.png" />
    <link rel="stylesheet" href="/public/style.css" />

    <title>Inglorious Engine</title>
  </head>

  <body>
    <canvas id="canvas"></canvas>

    <img id="neko" src="/public/sprites/neko.png" />

    <script type="importmap">
      {
        "imports": {
          "mutative": "/node_modules/mutative/dist/mutative.esm.mjs",
          "@inglorious/utils/": "/node_modules/@inglorious/utils/src/",
          "@inglorious/engine/": "/node_modules/@inglorious/engine/src/",
          "@inglorious/renderer-2d/": "/node_modules/@inglorious/renderer-2d/src/",
          "game": "/src/ai/decision-making/decision-tree.js"
        }
      }
    </script>

    <!-- This is required by Mutative -->
    <script type="text/javascript">
      window.process = { env: "development" }
    </script>

    <script type="module">
      import { Engine } from "@inglorious/engine/core/engine.js"
      import { createRenderer } from "@inglorious/renderer-2d/index.js"
      import { extend } from "@inglorious/utils/data-structures/objects.js"
      import game from "game"

      const canvas = document.getElementById("canvas")

      window.addEventListener("load", async () => {
        const renderer = createRenderer(canvas)
        const engine = new Engine(renderer, game)
        await engine.init()
        engine.start()
      })
    </script>
  </body>
</html>
