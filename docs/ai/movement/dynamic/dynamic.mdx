import { Canvas, Meta, Source } from '@storybook/addon-docs/blocks'
import * as Dynamic from './dynamic.stories'

import arrive from './arrive?raw'
import flee from './flee?raw'
import pursue from './pursue?raw'
import evade from './evade?raw'
import seek from './seek?raw'
import wander from './wander?raw'
import lookWhereYoureGoing from './look-where-youre-going?raw'
import face from './face?raw'
import align from './align?raw'
import matchVelocity from './match-velocity?raw'

<Meta of={Dynamic} />

# Dynamic Movement

The algorithms described here make an NPC entity move by applying forces, which in turn affect its acceleration and velocity. The movement is much smoother and more realistic than its [kinematic](/docs/ai-movement-kinematic-kinematic--docs) counterpart.

Every algorithm returns a steering object, which contains a linear and an angular acceleration. These can be used to update the entity's velocity and orientation.

Most examples here make use of user [input](/docs/games-input--docs), so check those out if you haven't already.

## Seek

The `seek` algorithm makes the entity chase a target. The movement is much smoother than its kinematic counterpart.

<Canvas of={Dynamic.Seek} />

<Source dark code={seek} />

## Flee

The `flee` algorithm is the exact opposite of seek: the entity will run away from the target.

<Canvas of={Dynamic.Flee} />

<Source dark code={flee} />

## Arrive

The `arrive` algorithm is a more refined version of seek: the entity will slow down as it approaches the target, and the movement is much smoother.

<Canvas of={Dynamic.Arrive} />

<Source dark code={arrive} />

## Pursue

The `pursue` algorithm is an enhanced version of seek. It predicts the future position of a moving target and seeks that position.

<Canvas of={Dynamic.Pursue} />

<Source dark code={pursue} />

## Evade

The `evade` algorithm is the opposite of pursue. It predicts the future position of a moving target and flees from it.

<Canvas of={Dynamic.Evade} />

<Source dark code={evade} />

## Wander

The `wander` algorithm makes the entity move around randomly, but in a smooth and realistic way.

<Canvas of={Dynamic.Wander} />

<Source dark code={wander} />

## Look Where You're Going

A simple but effective algorithm that aligns the character's orientation with its direction of movement.

_Hint_: Move around with the arrow keys.

<Canvas of={Dynamic.LookWhereYoureGoing} />

<Source dark code={lookWhereYoureGoing} />

## Align

The `align` algorithm makes the entity rotate to match the target's orientation.

_Hint_: Move left and right with the arrow keys to rotate the mouse cursor.

<Canvas of={Dynamic.Align} />

<Source dark code={align} />

## Face

The `face` algorithm makes the entity rotate to look at the target's position.

_Hint_: Move the mouse around.

<Canvas of={Dynamic.Face} />

<Source dark code={face} />

## Match Velocity

This algorithm adjusts the entity's velocity to match the target's velocity. It's a key component for flocking behaviors.

<Canvas of={Dynamic.MatchVelocity} />

<Source dark code={matchVelocity} />
