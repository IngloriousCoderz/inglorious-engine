import { Canvas, Meta, Source } from '@storybook/blocks'
import * as Dynamic from './dynamic.stories'

import arrive from './arrive?raw'
import flee from './flee?raw'
import pursue from './pursue?raw'
import evade from './evade?raw'
import seek from './seek?raw'
import wander from './wander?raw'
import lookWhereYoureGoing from './look-where-youre-going?raw'
import face from './face?raw'
import align from './align?raw'
import matchVelocity from './match-velocity?raw'

<Meta of={Dynamic} />

# Dynamic Movement

The algorithms described here make an NPC instance move by applying forces, which in turn affect its acceleration and velocity. The movement is much smoother and more realistic than its [kinematic](/docs/ai-movement-kinematic-kinematic--docs) counterpart.

Every algorithm returns a steering object, which contains a linear and an angular acceleration. These can be used to update the instance's velocity and orientation.

Most examples here make use of user [input](/docs/games-input--docs), so check those out if you haven't already.

## Seek

The seek algorithm makes the instance chase a target. The movement is much smoother than its kinematic counterpart.

<Source dark code={seek} />

<Canvas of={Dynamic.Seek} />

## Flee

The flee algorithm is the exact opposite of seek: the instance will run away from the target.

<Source dark code={flee} />

<Canvas of={Dynamic.Flee} />

## Arrive

The arrive algorithm is a more refined version of seek: the instance will slow down as it approaches the target, and the movement is much smoother.

<Source dark code={arrive} />

<Canvas of={Dynamic.Arrive} />

## Pursue

The pursue algorithm is an enhanced version of seek. It predicts the future position of a moving target and seeks that position.

<Source dark code={pursue} />

<Canvas of={Dynamic.Pursue} />

## Evade

Evade is the opposite of pursue. It predicts the future position of a moving target and flees from it.

<Source dark code={evade} />

<Canvas of={Dynamic.Evade} />

## Wander

The wander algorithm makes the instance move around randomly, but in a smooth and realistic way.

<Source dark code={wander} />

<Canvas of={Dynamic.Wander} />

## Look Where You're Going

A simple but effective algorithm that aligns the character's orientation with its direction of movement.

<Source dark code={lookWhereYoureGoing} />

<Canvas of={Dynamic.LookWhereYoureGoing} />

## Align and Face

The `align` algorithm makes the instance rotate to match the target's orientation, while `face` makes it rotate to look at the target's position. They are smoother versions of their kinematic counterparts.

<Source dark code={align} />

<Canvas of={Dynamic.Align} />

<Source dark code={face} />

<Canvas of={Dynamic.Face} />

## Match Velocity

This algorithm adjusts the instance's velocity to match the target's velocity. It's a key component for flocking behaviors.

<Source dark code={matchVelocity} />

<Canvas of={Dynamic.MatchVelocity} />
