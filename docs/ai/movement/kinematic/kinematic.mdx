import { Canvas, Meta, Source } from '@storybook/addon-docs/blocks'
import * as Kinematic from './kinematic.stories'

import align from './align?raw'
import arrive from './arrive?raw'
import flee from './flee?raw'
import seek from './seek?raw'
import wander from './wander?raw'
import wanderAsSeek from './wander-as-seek?raw'

<Meta of={Kinematic} />

# Kinematic Movement

The algorithms described here make an NPC instance move by changing its velocity. The movement is a little snappy but it does the trick for simple games.

Every algorithm returns some parameters, such as velocity, position, and orientation, which can be merged to the instance.

Most examples here make use of user [input](/docs/engine-input--docs), so check those out if you haven't already.

## Seek

The seek algorithm makes the instance chase a target. Speed is constant and it makes the character flick around the target once reached.

<Source dark code={seek} />

<Canvas of={Kinematic.Seek} />

## Flee

The flee algorithm is the exact opposite of seek: the instance will run away from the target.

<Source dark code={flee} />

<Canvas of={Kinematic.Flee} />

## Arrive

The arrive algorithm is a more refined version of seek: the instance will slow down as it approaches the target.

<Source dark code={arrive} />

<Canvas of={Kinematic.Arrive} />

## Align

The align algorithm makes the instance rotate to match the target's orientation.

<Source dark code={align} />

<Canvas of={Kinematic.Align} />

## Wander

The wander algorithm makes the instance move around randomly. It does so by changing its orientation by a small random amount at each frame.

<Source dark code={wander} />

<Canvas of={Kinematic.Wander} />

## Wander as Seek

This is a simpler version of the wander algorithm that does not require trigonometry. It just seeks a random point in the scene, and once it's reached, it seeks another one.

<Source dark code={wanderAsSeek} />

<Canvas of={Kinematic.WanderAsSeek} />
